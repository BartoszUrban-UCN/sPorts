@model WebApplication.Models.Spot

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Spot</h4>

    <hr />

    @* Display map on spot location if it has a location set *@

    @if (Model.LocationId != null)
    {
        <partial name="MapDivPartial" />
        <br />
    }

    @* End of displaying map *@

    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.SpotNumber)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.SpotNumber)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Available)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Available)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MaxWidth)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MaxWidth)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MaxLength)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MaxLength)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MaxDepth)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MaxDepth)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Price)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Price)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Marina)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Marina.MarinaId)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.LocationId)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.LocationId)
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.SpotId">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts{
    <partial name="_LeafletScriptsPartial" />
    <script src="~/js/leaflet/map_spot.js"></script>
    <script>
        var available = $("#Available");
        mymap.setView([@Model.Location.Latitude, @Model.Location.Longitude], 16);
        var currentMarker = renderSpotMarker(@Model.Location.Latitude, @Model.Location.Longitude, !available.val());
    </script>
}
